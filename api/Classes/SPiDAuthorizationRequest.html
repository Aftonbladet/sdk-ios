<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="html/html; charset=utf-8"/>
    <title>SPiDAuthorizationRequest Class Reference</title>
    <meta id="xcode-display" name="xcode-display" content="render"/>
    <meta name="viewport" content="width=550"/>
    <link rel="stylesheet" type="text/css" href="../css/styles.css" media="all"/>
    <link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css"/>
    <meta name="generator" content="appledoc 2.1 (build 840)"/>
</head>
<body>
<header id="top_header">
    <div id="library" class="hideInXcode">
        <h1><a id="libraryTitle" href="../index.html">SPiDSDK </a></h1>
        <a id="developerHome" href="../index.html">Schibsted Payment</a>
    </div>

    <div id="title" role="banner">
        <h1 class="hideInXcode">SPiDAuthorizationRequest Class Reference</h1>
    </div>
    <ul id="headerButtons" role="toolbar">
        <li id="toc_button">
            <button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span
                    class="disclosure"></span>Table of Contents
            </button>
        </li>
        <li id="jumpto_button" role="navigation">
            <select id="jumpTo">
                <option value="top">Jump To&#133;</option>

                <option value="overview">Overview</option>


                <option value="tasks">Tasks</option>


                <option value="properties">Properties</option>

                <option value="//api/name/requestURL">&nbsp;&nbsp;&nbsp;&nbsp;requestURL</option>


                <option value="instance_methods">Instance Methods</option>

                <option value="//api/name/authorizeWithBrowserRedirect">&nbsp;&nbsp;&nbsp;&nbsp;-
                    authorizeWithBrowserRedirect
                </option>

                <option value="//api/name/authorizeWithWebView">&nbsp;&nbsp;&nbsp;&nbsp;- authorizeWithWebView</option>

                <option value="//api/name/connection:didFailWithError:">&nbsp;&nbsp;&nbsp;&nbsp;-
                    connection:didFailWithError:
                </option>

                <option value="//api/name/connection:didReceiveData:">&nbsp;&nbsp;&nbsp;&nbsp;-
                    connection:didReceiveData:
                </option>

                <option value="//api/name/connection:willSendRequest:redirectResponse:">&nbsp;&nbsp;&nbsp;&nbsp;-
                    connection:willSendRequest:redirectResponse:
                </option>

                <option value="//api/name/connectionDidFinishLoading:">&nbsp;&nbsp;&nbsp;&nbsp;-
                    connectionDidFinishLoading:
                </option>

                <option value="//api/name/createWebView:">&nbsp;&nbsp;&nbsp;&nbsp;- createWebView:</option>

                <option value="//api/name/generateAccessTokenPostData">&nbsp;&nbsp;&nbsp;&nbsp;-
                    generateAccessTokenPostData
                </option>

                <option value="//api/name/generateAuthorizationURL">&nbsp;&nbsp;&nbsp;&nbsp;- generateAuthorizationURL
                </option>

                <option value="//api/name/generateLogoutURLWithAccessToken:">&nbsp;&nbsp;&nbsp;&nbsp;-
                    generateLogoutURLWithAccessToken:
                </option>

                <option value="//api/name/generateLostPasswordURL">&nbsp;&nbsp;&nbsp;&nbsp;- generateLostPasswordURL
                </option>

                <option value="//api/name/generateRefreshPostDataWithAccessToken:">&nbsp;&nbsp;&nbsp;&nbsp;-
                    generateRefreshPostDataWithAccessToken:
                </option>

                <option value="//api/name/generateRegistrationURL">&nbsp;&nbsp;&nbsp;&nbsp;- generateRegistrationURL
                </option>

                <option value="//api/name/getAuthorizationQueryWithURL:">&nbsp;&nbsp;&nbsp;&nbsp;-
                    getAuthorizationQueryWithURL:
                </option>

                <option value="//api/name/handleOpenURL:">&nbsp;&nbsp;&nbsp;&nbsp;- handleOpenURL:</option>

                <option value="//api/name/initWithCompletionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;-
                    initWithCompletionHandler:
                </option>

                <option value="//api/name/logoutWithAccessToken:">&nbsp;&nbsp;&nbsp;&nbsp;- logoutWithAccessToken:
                </option>

                <option value="//api/name/lostPasswordWithWebView">&nbsp;&nbsp;&nbsp;&nbsp;- lostPasswordWithWebView
                </option>

                <option value="//api/name/refreshWithRefreshToken:">&nbsp;&nbsp;&nbsp;&nbsp;- refreshWithRefreshToken:
                </option>

                <option value="//api/name/registerWithWebView">&nbsp;&nbsp;&nbsp;&nbsp;- registerWithWebView</option>

                <option value="//api/name/requestAccessToken">&nbsp;&nbsp;&nbsp;&nbsp;- requestAccessToken</option>

                <option value="//api/name/softLogoutWithAccessToken:">&nbsp;&nbsp;&nbsp;&nbsp;-
                    softLogoutWithAccessToken:
                </option>

                <option value="//api/name/webView:didFailLoadWithError:">&nbsp;&nbsp;&nbsp;&nbsp;-
                    webView:didFailLoadWithError:
                </option>

                <option value="//api/name/webView:shouldStartLoadWithRequest:navigationType:">&nbsp;&nbsp;&nbsp;&nbsp;-
                    webView:shouldStartLoadWithRequest:navigationType:
                </option>

                <option value="//api/name/webViewDidFinishLoad:">&nbsp;&nbsp;&nbsp;&nbsp;- webViewDidFinishLoad:
                </option>


            </select>
        </li>
    </ul>
</header>
<nav id="tocContainer" class="isShowingTOC">
    <ul id="toc" role="tree">

        <li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span>
        </li>


        <li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a
                href="#tasks">Tasks</a></span>
            <ul>

                <li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Public methods">Public
                    methods</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Private methods">Private
                    methods</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Extension Methods">Extension
                    Methods</a></span></li>

            </ul>
        </li>


        <li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a
                href="#properties">Properties</a></span>
            <ul>

                <li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/requestURL">requestURL</a></span>
                </li>

            </ul>
        </li>


        <li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a
                href="#instance_methods">Instance Methods</a></span>
            <ul>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/authorizeWithBrowserRedirect">authorizeWithBrowserRedirect</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/authorizeWithWebView">authorizeWithWebView</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/connection:didFailWithError:">connection:didFailWithError:</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/connection:didReceiveData:">connection:didReceiveData:</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/connection:willSendRequest:redirectResponse:">connection:willSendRequest:redirectResponse:</a></span>
                </li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/connectionDidFinishLoading:">connectionDidFinishLoading:</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/createWebView:">createWebView:</a></span>
                </li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/generateAccessTokenPostData">generateAccessTokenPostData</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/generateAuthorizationURL">generateAuthorizationURL</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/generateLogoutURLWithAccessToken:">generateLogoutURLWithAccessToken:</a></span>
                </li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/generateLostPasswordURL">generateLostPasswordURL</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/generateRefreshPostDataWithAccessToken:">generateRefreshPostDataWithAccessToken:</a></span>
                </li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/generateRegistrationURL">generateRegistrationURL</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/getAuthorizationQueryWithURL:">getAuthorizationQueryWithURL:</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/handleOpenURL:">handleOpenURL:</a></span>
                </li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/initWithCompletionHandler:">initWithCompletionHandler:</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/logoutWithAccessToken:">logoutWithAccessToken:</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/lostPasswordWithWebView">lostPasswordWithWebView</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/refreshWithRefreshToken:">refreshWithRefreshToken:</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/registerWithWebView">registerWithWebView</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/requestAccessToken">requestAccessToken</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/softLogoutWithAccessToken:">softLogoutWithAccessToken:</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/webView:didFailLoadWithError:">webView:didFailLoadWithError:</a></span></li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/webView:shouldStartLoadWithRequest:navigationType:">webView:shouldStartLoadWithRequest:navigationType:</a></span>
                </li>

                <li><span class="nodisclosure"></span><span class="sectionName"><a
                        href="#//api/name/webViewDidFinishLoad:">webViewDidFinishLoad:</a></span></li>

            </ul>
        </li>


    </ul>
</nav>
<article>
<div id="contents" class="isShowingTOC" role="main">
<a title="SPiDAuthorizationRequest Class Reference" name="top"></a>

<div class="main-navigation navigation-top">
    <ul>
        <li><a href="../index.html">Index</a></li>
        <li><a href="../hierarchy.html">Hierarchy</a></li>
    </ul>
</div>
<div id="header">
    <div class="section-header">
        <h1 class="title title-header">SPiDAuthorizationRequest Class Reference</h1>
    </div>
</div>
<div id="container">

<div class="section section-specification">
    <table cellspacing="0">
        <tbody>
        <tr>
            <td class="specification-title">Inherits from</td>
            <td class="specification-value">NSObject</td>
        </tr>
        <tr>
            <td class="specification-title">Conforms to</td>
            <td class="specification-value">NSURLConnectionDelegate</td>
        </tr>
        <tr>
            <td class="specification-title">Declared in</td>
            <td class="specification-value">SPiDAuthorizationRequest.h<br/>SPiDAuthorizationRequest.m</td>
        </tr>
        </tbody>
    </table>
</div>


<div class="section section-overview">
    <a title="Overview" name="overview"></a>

    <h2 class="subtitle subtitle-overview">Overview</h2>

    <p>Authorization class for SPiD
        <code>SPiDAuthorizationRequest</code> takes care of all request regarding OAuth 2.0 autorization.</p>

    <p>When a authorization request is in progress, all other requests are queued waiting for request completetion.</p>
</div>


<div class="section section-tasks">
<a title="Tasks" name="tasks"></a>

<h2 class="subtitle subtitle-tasks">Tasks</h2>


<a title="Public methods" name="task_Public methods"></a>

<h3 class="subsubtitle task-title">Public methods</h3>

<ul class="task-list">
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/initWithCompletionHandler:">&ndash;&nbsp;initWithCompletionHandler:</a></code>
		<span class="tooltip"><p>Creates a <code>SPiDAuthorizationRequest</code> and and setups completionHandler
        </p></span>
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/authorizeWithBrowserRedirect">&ndash;&nbsp;authorizeWithBrowserRedirect</a></code>
		<span class="tooltip"><p>Tries to authorize with SPiD</p></span>
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/refreshWithRefreshToken:">&ndash;&nbsp;refreshWithRefreshToken:</a></code>
		<span class="tooltip"><p>Tries to refresh the access token</p></span>
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/logoutWithAccessToken:">&ndash;&nbsp;logoutWithAccessToken:</a></code>
		<span class="tooltip"><p>Tries to logout from SPiD</p></span>
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/softLogoutWithAccessToken:">&ndash;&nbsp;softLogoutWithAccessToken:</a></code>
		<span class="tooltip"><p>Tries to soft logout from SPiD</p></span>
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/handleOpenURL:">&ndash;&nbsp;handleOpenURL:</a></code>
		<span class="tooltip"><p>Handles the redirects from Safari</p></span>
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/authorizeWithWebView">&ndash;&nbsp;authorizeWithWebView</a></code>
		<span class="tooltip"><p>Creates a authorization WebView.</p></span>
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/registerWithWebView">&ndash;&nbsp;registerWithWebView</a></code>
		<span class="tooltip"><p>Creates a registration WebView</p></span>
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/lostPasswordWithWebView">&ndash;&nbsp;lostPasswordWithWebView</a></code>
		<span class="tooltip"><p>Creates a lost password WebView
            *</p></span>
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/createWebView:">&ndash;&nbsp;createWebView:</a></code>
		
	</span>


    </li>
</ul>


<a title="Private methods" name="task_Private methods"></a>

<h3 class="subsubtitle task-title">Private methods</h3>

<ul class="task-list">
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/generateAuthorizationURL">&ndash;&nbsp;generateAuthorizationURL</a></code>
		<span class="tooltip"><p>Generates the authorization URL with GET query</p></span>
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/generateRegistrationURL">&ndash;&nbsp;generateRegistrationURL</a></code>
		
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/generateLostPasswordURL">&ndash;&nbsp;generateLostPasswordURL</a></code>
		
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/getAuthorizationQueryWithURL:">&ndash;&nbsp;getAuthorizationQueryWithURL:</a></code>
		
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/generateLogoutURLWithAccessToken:">&ndash;&nbsp;generateLogoutURLWithAccessToken:</a></code>
		<span class="tooltip"><p>Generates the logout URL with GET query</p></span>
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/generateAccessTokenPostData">&ndash;&nbsp;generateAccessTokenPostData</a></code>
		<span class="tooltip"><p>Generates the access token request data</p></span>
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/generateRefreshPostDataWithAccessToken:">&ndash;&nbsp;generateRefreshPostDataWithAccessToken:</a></code>
		<span class="tooltip"><p>Generates the access token refresh request data</p></span>
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/webView:shouldStartLoadWithRequest:navigationType:">&ndash;&nbsp;webView:shouldStartLoadWithRequest:navigationType:</a></code>
		
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/webViewDidFinishLoad:">&ndash;&nbsp;webViewDidFinishLoad:</a></code>
		
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/webView:didFailLoadWithError:">&ndash;&nbsp;webView:didFailLoadWithError:</a></code>
		
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/requestAccessToken">&ndash;&nbsp;requestAccessToken</a></code>
		<span class="tooltip"><p>Requests access token by using the received code</p></span>
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/connection:willSendRequest:redirectResponse:">&ndash;&nbsp;connection:willSendRequest:redirectResponse:</a></code>
		<span class="tooltip"><p>NSURLConnectionDelegate method</p></span>
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/connection:didReceiveData:">&ndash;&nbsp;connection:didReceiveData:</a></code>
		<span class="tooltip"><p>&lsquo;NSURLConnectionDelegate&rsquo; method</p></span>
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/connectionDidFinishLoading:">&ndash;&nbsp;connectionDidFinishLoading:</a></code>
		<span class="tooltip"><p>NSURLConnectionDelegate method</p></span>
	</span>


    </li>
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/connection:didFailWithError:">&ndash;&nbsp;connection:didFailWithError:</a></code>
		<span class="tooltip"><p>NSURLConnectionDelegate method</p></span>
	</span>


    </li>
</ul>


<a title="Extension Methods" name="task_Extension Methods"></a>

<h3 class="subsubtitle task-title">Extension Methods</h3>

<ul class="task-list">
    <li>
	<span class="tooltip">
		<code><a href="#//api/name/requestURL">&nbsp;&nbsp;requestURL</a></code>
		
	</span>
        <span class="task-item-suffix">property</span>

    </li>
</ul>

</div>


<div class="section section-methods">
    <a title="Properties" name="properties"></a>

    <h2 class="subtitle subtitle-methods">Properties</h2>

    <div class="section-method">
        <a name="//api/name/requestURL" title="requestURL"></a>

        <h3 class="subsubtitle method-title">requestURL</h3>


        <div class="method-subsection method-declaration"><code>@property (nonatomic, strong) NSURL *requestURL</code>
        </div>


    </div>

</div>


<div class="section section-methods">
<a title="Instance Methods" name="instance_methods"></a>

<h2 class="subtitle subtitle-methods">Instance Methods</h2>

<div class="section-method">
    <a name="//api/name/authorizeWithBrowserRedirect" title="authorizeWithBrowserRedirect"></a>

    <h3 class="subsubtitle method-title">authorizeWithBrowserRedirect</h3>


    <div class="method-subsection brief-description">
        <p>Tries to authorize with SPiD</p>
    </div>


    <div class="method-subsection method-declaration"><code>- (void)authorizeWithBrowserRedirect</code></div>


    <div class="method-subsection discussion-section">
        <h4 class="method-subtitle">Discussion</h4>

        <p>This causes a redirect to Safari that will redirect back to the app by calling <code>application:openURL:sourceApplication:annotation:</code>
        </p>
    </div>


    <div class="method-subsection declared-in-section">
        <h4 class="method-subtitle">Declared In</h4>
        <code class="declared-in-ref">SPiDAuthorizationRequest.h</code><br/>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/authorizeWithWebView" title="authorizeWithWebView"></a>

    <h3 class="subsubtitle method-title">authorizeWithWebView</h3>


    <div class="method-subsection brief-description">
        <p>Creates a authorization WebView.</p>
    </div>


    <div class="method-subsection method-declaration"><code>- (UIWebView *)authorizeWithWebView</code></div>


    <div class="method-subsection return">
        <h4 class="method-subtitle parameter-title">Return Value</h4>

        <p>The new WebView</p>
    </div>


    <div class="method-subsection declared-in-section">
        <h4 class="method-subtitle">Declared In</h4>
        <code class="declared-in-ref">SPiDAuthorizationRequest.h</code><br/>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/connection:didFailWithError:" title="connection:didFailWithError:"></a>

    <h3 class="subsubtitle method-title">connection:didFailWithError:</h3>


    <div class="method-subsection brief-description">
        <p>NSURLConnectionDelegate method</p>
    </div>


    <div class="method-subsection method-declaration"><code>- (void)connection:(NSURLConnection *)<em>connection</em>
        didFailWithError:(NSError *)<em>error</em></code></div>


    <div class="method-subsection arguments-section parameters">
        <h4 class="method-subtitle parameter-title">Parameters</h4>

        <dl class="argument-def parameter-def">
            <dt><em>connection</em></dt>
            <dd><p>The connection sending the message.</p></dd>
        </dl>

        <dl class="argument-def parameter-def">
            <dt><em>error</em></dt>
            <dd><p>An error object containing details of why the connection failed to load the request successfully.</p>
            </dd>
        </dl>

    </div>


    <div class="method-subsection discussion-section">
        <h4 class="method-subtitle">Discussion</h4>

        <p>Sent when a connection fails to load its request successfully.</p>
    </div>


    <div class="method-subsection declared-in-section">
        <h4 class="method-subtitle">Declared In</h4>
        <code class="declared-in-ref">SPiDAuthorizationRequest.m</code><br/>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/connection:didReceiveData:" title="connection:didReceiveData:"></a>

    <h3 class="subsubtitle method-title">connection:didReceiveData:</h3>


    <div class="method-subsection brief-description">
        <p>&lsquo;NSURLConnectionDelegate&rsquo; method</p>
    </div>


    <div class="method-subsection method-declaration"><code>- (void)connection:(NSURLConnection *)<em>connection</em>
        didReceiveData:(NSData *)<em>data</em></code></div>


    <div class="method-subsection arguments-section parameters">
        <h4 class="method-subtitle parameter-title">Parameters</h4>

        <dl class="argument-def parameter-def">
            <dt><em>connection</em></dt>
            <dd><p>The connection sending the message.</p></dd>
        </dl>

        <dl class="argument-def parameter-def">
            <dt><em>data</em></dt>
            <dd><p>The newly available data.</p></dd>
        </dl>

    </div>


    <div class="method-subsection discussion-section">
        <h4 class="method-subtitle">Discussion</h4>

        <p>Sent as a connection loads data incrementally and concatenates the data to the private instance
            variable &lsquo;receivedData&rsquo;.</p>
    </div>


    <div class="method-subsection declared-in-section">
        <h4 class="method-subtitle">Declared In</h4>
        <code class="declared-in-ref">SPiDAuthorizationRequest.m</code><br/>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/connection:willSendRequest:redirectResponse:"
       title="connection:willSendRequest:redirectResponse:"></a>

    <h3 class="subsubtitle method-title">connection:willSendRequest:redirectResponse:</h3>


    <div class="method-subsection brief-description">
        <p>NSURLConnectionDelegate method</p>
    </div>


    <div class="method-subsection method-declaration"><code>- (NSURLRequest *)connection:(NSURLConnection *)<em>connection</em>
        willSendRequest:(NSURLRequest *)<em>request</em> redirectResponse:(NSURLResponse *)<em>response</em></code>
    </div>


    <div class="method-subsection arguments-section parameters">
        <h4 class="method-subtitle parameter-title">Parameters</h4>

        <dl class="argument-def parameter-def">
            <dt><em>connection</em></dt>
            <dd><p>The connection sending the message.</p></dd>
        </dl>

        <dl class="argument-def parameter-def">
            <dt><em>request</em></dt>
            <dd><p>The proposed redirected request. The delegate should inspect the redirected request to verify that it
                meets its needs, and create a copy with new attributes to return to the connection if necessary.</p>
            </dd>
        </dl>

        <dl class="argument-def parameter-def">
            <dt><em>response</em></dt>
            <dd><p>The URL response that caused the redirect. May be nil in cases where this method is not being sent as
                a result of involving the delegate in redirect processing.</p></dd>
        </dl>

    </div>


    <div class="method-subsection discussion-section">
        <h4 class="method-subtitle">Discussion</h4>

        <p>Sent when the connection determines that it must change URLs in order to continue loading a request.</p>
    </div>


    <div class="method-subsection declared-in-section">
        <h4 class="method-subtitle">Declared In</h4>
        <code class="declared-in-ref">SPiDAuthorizationRequest.m</code><br/>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/connectionDidFinishLoading:" title="connectionDidFinishLoading:"></a>

    <h3 class="subsubtitle method-title">connectionDidFinishLoading:</h3>


    <div class="method-subsection brief-description">
        <p>NSURLConnectionDelegate method</p>
    </div>


    <div class="method-subsection method-declaration"><code>- (void)connectionDidFinishLoading:(NSURLConnection *)<em>connection</em></code>
    </div>


    <div class="method-subsection arguments-section parameters">
        <h4 class="method-subtitle parameter-title">Parameters</h4>

        <dl class="argument-def parameter-def">
            <dt><em>connection</em></dt>
            <dd><p>The connection sending the message.</p></dd>
        </dl>

    </div>


    <div class="method-subsection discussion-section">
        <h4 class="method-subtitle">Discussion</h4>

        <p>Sent when a connection has finished loading successfully.</p>
    </div>


    <div class="method-subsection declared-in-section">
        <h4 class="method-subtitle">Declared In</h4>
        <code class="declared-in-ref">SPiDAuthorizationRequest.m</code><br/>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/createWebView:" title="createWebView:"></a>

    <h3 class="subsubtitle method-title">createWebView:</h3>


    <div class="method-subsection method-declaration"><code>- (UIWebView *)createWebView:(NSURL
        *)<em>requestURL</em></code></div>


</div>

<div class="section-method">
    <a name="//api/name/generateAccessTokenPostData" title="generateAccessTokenPostData"></a>

    <h3 class="subsubtitle method-title">generateAccessTokenPostData</h3>


    <div class="method-subsection brief-description">
        <p>Generates the access token request data</p>
    </div>


    <div class="method-subsection method-declaration"><code>- (NSString *)generateAccessTokenPostData</code></div>


    <div class="method-subsection return">
        <h4 class="method-subtitle parameter-title">Return Value</h4>

        <p>Access token request data</p>
    </div>


    <div class="method-subsection declared-in-section">
        <h4 class="method-subtitle">Declared In</h4>
        <code class="declared-in-ref">SPiDAuthorizationRequest.m</code><br/>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/generateAuthorizationURL" title="generateAuthorizationURL"></a>

    <h3 class="subsubtitle method-title">generateAuthorizationURL</h3>


    <div class="method-subsection brief-description">
        <p>Generates the authorization URL with GET query</p>
    </div>


    <div class="method-subsection method-declaration"><code>- (NSURL *)generateAuthorizationURL</code></div>


    <div class="method-subsection return">
        <h4 class="method-subtitle parameter-title">Return Value</h4>

        <p>Authorization URL query</p>
    </div>


    <div class="method-subsection declared-in-section">
        <h4 class="method-subtitle">Declared In</h4>
        <code class="declared-in-ref">SPiDAuthorizationRequest.m</code><br/>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/generateLogoutURLWithAccessToken:" title="generateLogoutURLWithAccessToken:"></a>

    <h3 class="subsubtitle method-title">generateLogoutURLWithAccessToken:</h3>


    <div class="method-subsection brief-description">
        <p>Generates the logout URL with GET query</p>
    </div>


    <div class="method-subsection method-declaration"><code>- (NSURL *)generateLogoutURLWithAccessToken:(SPiDAccessToken
        *)<em>accessToken</em></code></div>


    <div class="method-subsection arguments-section parameters">
        <h4 class="method-subtitle parameter-title">Parameters</h4>

        <dl class="argument-def parameter-def">
            <dt><em>accessToken</em></dt>
            <dd><p>´SPiDAccessToken` the should be used for logging out</p></dd>
        </dl>

    </div>


    <div class="method-subsection return">
        <h4 class="method-subtitle parameter-title">Return Value</h4>

        <p>Logout URL query</p>
    </div>


    <div class="method-subsection declared-in-section">
        <h4 class="method-subtitle">Declared In</h4>
        <code class="declared-in-ref">SPiDAuthorizationRequest.m</code><br/>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/generateLostPasswordURL" title="generateLostPasswordURL"></a>

    <h3 class="subsubtitle method-title">generateLostPasswordURL</h3>


    <div class="method-subsection method-declaration"><code>- (NSURL *)generateLostPasswordURL</code></div>


</div>

<div class="section-method">
    <a name="//api/name/generateRefreshPostDataWithAccessToken:" title="generateRefreshPostDataWithAccessToken:"></a>

    <h3 class="subsubtitle method-title">generateRefreshPostDataWithAccessToken:</h3>


    <div class="method-subsection brief-description">
        <p>Generates the access token refresh request data</p>
    </div>


    <div class="method-subsection method-declaration"><code>- (NSString
        *)generateRefreshPostDataWithAccessToken:(SPiDAccessToken *)<em>accessToken</em></code></div>


    <div class="method-subsection arguments-section parameters">
        <h4 class="method-subtitle parameter-title">Parameters</h4>

        <dl class="argument-def parameter-def">
            <dt><em>accessToken</em></dt>
            <dd><p>´SPiDAccessToken` containing the refresh token</p></dd>
        </dl>

    </div>


    <div class="method-subsection return">
        <h4 class="method-subtitle parameter-title">Return Value</h4>

        <p>Token refresh request data</p>
    </div>


    <div class="method-subsection declared-in-section">
        <h4 class="method-subtitle">Declared In</h4>
        <code class="declared-in-ref">SPiDAuthorizationRequest.m</code><br/>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/generateRegistrationURL" title="generateRegistrationURL"></a>

    <h3 class="subsubtitle method-title">generateRegistrationURL</h3>


    <div class="method-subsection method-declaration"><code>- (NSURL *)generateRegistrationURL</code></div>


</div>

<div class="section-method">
    <a name="//api/name/getAuthorizationQueryWithURL:" title="getAuthorizationQueryWithURL:"></a>

    <h3 class="subsubtitle method-title">getAuthorizationQueryWithURL:</h3>


    <div class="method-subsection method-declaration"><code>- (NSString *)getAuthorizationQueryWithURL:(NSString *)<em>requestURL</em></code>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/handleOpenURL:" title="handleOpenURL:"></a>

    <h3 class="subsubtitle method-title">handleOpenURL:</h3>


    <div class="method-subsection brief-description">
        <p>Handles the redirects from Safari</p>
    </div>


    <div class="method-subsection method-declaration"><code>- (BOOL)handleOpenURL:(NSURL *)<em>url</em></code></div>


    <div class="method-subsection arguments-section parameters">
        <h4 class="method-subtitle parameter-title">Parameters</h4>

        <dl class="argument-def parameter-def">
            <dt><em>url</em></dt>
            <dd><p>The URL received from Safari</p></dd>
        </dl>

    </div>


    <div class="method-subsection return">
        <h4 class="method-subtitle parameter-title">Return Value</h4>

        <p>YES if URL was handled otherwise NO</p>
    </div>


    <div class="method-subsection discussion-section">
        <h4 class="method-subtitle">Discussion</h4>

        <p>Called from <a href="../Classes/SPiDClient.html"><code>SPiDClient</code></a> and should not be called
            directly</p>
    </div>


    <div class="method-subsection declared-in-section">
        <h4 class="method-subtitle">Declared In</h4>
        <code class="declared-in-ref">SPiDAuthorizationRequest.h</code><br/>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/initWithCompletionHandler:" title="initWithCompletionHandler:"></a>

    <h3 class="subsubtitle method-title">initWithCompletionHandler:</h3>


    <div class="method-subsection brief-description">
        <p>Creates a <code>SPiDAuthorizationRequest</code> and and setups completionHandler</p>
    </div>


    <div class="method-subsection method-declaration"><code>- (id)initWithCompletionHandler:(void ( ^ ) (
        SPiDAccessToken *accessToken , NSError *error ))<em>completionHandler</em></code></div>


    <div class="method-subsection arguments-section parameters">
        <h4 class="method-subtitle parameter-title">Parameters</h4>

        <dl class="argument-def parameter-def">
            <dt><em>completionHandler</em></dt>
            <dd><p>Completion handler that will be run after request is completed</p></dd>
        </dl>

    </div>


    <div class="method-subsection return">
        <h4 class="method-subtitle parameter-title">Return Value</h4>

        <p>Instance of <code>SPiDAuthorizationRequest</code></p>
    </div>


    <div class="method-subsection declared-in-section">
        <h4 class="method-subtitle">Declared In</h4>
        <code class="declared-in-ref">SPiDAuthorizationRequest.h</code><br/>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/logoutWithAccessToken:" title="logoutWithAccessToken:"></a>

    <h3 class="subsubtitle method-title">logoutWithAccessToken:</h3>


    <div class="method-subsection brief-description">
        <p>Tries to logout from SPiD</p>
    </div>


    <div class="method-subsection method-declaration"><code>- (void)logoutWithAccessToken:(SPiDAccessToken *)<em>accessToken</em></code>
    </div>


    <div class="method-subsection arguments-section parameters">
        <h4 class="method-subtitle parameter-title">Parameters</h4>

        <dl class="argument-def parameter-def">
            <dt><em>accessToken</em></dt>
            <dd><p><a href="../Classes/SPiDAccessToken.html"><code>SPiDAccessToken</code></a> to be logged out</p></dd>
        </dl>

    </div>


    <div class="method-subsection discussion-section">
        <h4 class="method-subtitle">Discussion</h4>

        <p>This causes a redirect to Safari that will redirect back to the app by calling <code>application:openURL:sourceApplication:annotation:</code>
            This will remove the cookie from Safari and force user to login again</p>
    </div>


    <div class="method-subsection declared-in-section">
        <h4 class="method-subtitle">Declared In</h4>
        <code class="declared-in-ref">SPiDAuthorizationRequest.h</code><br/>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/lostPasswordWithWebView" title="lostPasswordWithWebView"></a>

    <h3 class="subsubtitle method-title">lostPasswordWithWebView</h3>


    <div class="method-subsection brief-description">
        <p>Creates a lost password WebView
            *</p>
    </div>


    <div class="method-subsection method-declaration"><code>- (UIWebView *)lostPasswordWithWebView</code></div>


    <div class="method-subsection return">
        <h4 class="method-subtitle parameter-title">Return Value</h4>

        <p>The new WebView</p>
    </div>


    <div class="method-subsection declared-in-section">
        <h4 class="method-subtitle">Declared In</h4>
        <code class="declared-in-ref">SPiDAuthorizationRequest.h</code><br/>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/refreshWithRefreshToken:" title="refreshWithRefreshToken:"></a>

    <h3 class="subsubtitle method-title">refreshWithRefreshToken:</h3>


    <div class="method-subsection brief-description">
        <p>Tries to refresh the access token</p>
    </div>


    <div class="method-subsection method-declaration"><code>- (void)refreshWithRefreshToken:(SPiDAccessToken *)<em>accessToken</em></code>
    </div>


    <div class="method-subsection arguments-section parameters">
        <h4 class="method-subtitle parameter-title">Parameters</h4>

        <dl class="argument-def parameter-def">
            <dt><em>accessToken</em></dt>
            <dd><p>Access token to refresh</p></dd>
        </dl>

    </div>


    <div class="method-subsection discussion-section">
        <h4 class="method-subtitle">Discussion</h4>

        <p>Requests are queued during refresh and run again after refresh is completed</p>
    </div>


    <div class="method-subsection declared-in-section">
        <h4 class="method-subtitle">Declared In</h4>
        <code class="declared-in-ref">SPiDAuthorizationRequest.h</code><br/>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/registerWithWebView" title="registerWithWebView"></a>

    <h3 class="subsubtitle method-title">registerWithWebView</h3>


    <div class="method-subsection brief-description">
        <p>Creates a registration WebView</p>
    </div>


    <div class="method-subsection method-declaration"><code>- (UIWebView *)registerWithWebView</code></div>


    <div class="method-subsection return">
        <h4 class="method-subtitle parameter-title">Return Value</h4>

        <p>The new WebView</p>
    </div>


    <div class="method-subsection declared-in-section">
        <h4 class="method-subtitle">Declared In</h4>
        <code class="declared-in-ref">SPiDAuthorizationRequest.h</code><br/>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/requestAccessToken" title="requestAccessToken"></a>

    <h3 class="subsubtitle method-title">requestAccessToken</h3>


    <div class="method-subsection brief-description">
        <p>Requests access token by using the received code</p>
    </div>


    <div class="method-subsection method-declaration"><code>- (void)requestAccessToken</code></div>


    <div class="method-subsection discussion-section">
        <h4 class="method-subtitle">Discussion</h4>

        <p>Note: This is used internally and should not be called directly</p>
    </div>


    <div class="method-subsection declared-in-section">
        <h4 class="method-subtitle">Declared In</h4>
        <code class="declared-in-ref">SPiDAuthorizationRequest.m</code><br/>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/softLogoutWithAccessToken:" title="softLogoutWithAccessToken:"></a>

    <h3 class="subsubtitle method-title">softLogoutWithAccessToken:</h3>


    <div class="method-subsection brief-description">
        <p>Tries to soft logout from SPiD</p>
    </div>


    <div class="method-subsection method-declaration"><code>- (void)softLogoutWithAccessToken:(SPiDAccessToken *)<em>accessToken</em></code>
    </div>


    <div class="method-subsection arguments-section parameters">
        <h4 class="method-subtitle parameter-title">Parameters</h4>

        <dl class="argument-def parameter-def">
            <dt><em>accessToken</em></dt>
            <dd><p><a href="../Classes/SPiDAccessToken.html"><code>SPiDAccessToken</code></a> to be logged out</p></dd>
        </dl>

    </div>


    <div class="method-subsection discussion-section">
        <h4 class="method-subtitle">Discussion</h4>

        <p>This will not redirect to Safari and the cookie will not be removed.
            This method is used when a user tries to login twice, the logout invalidates the old token making sure that
            there is only one active token.</p>
    </div>


    <div class="method-subsection declared-in-section">
        <h4 class="method-subtitle">Declared In</h4>
        <code class="declared-in-ref">SPiDAuthorizationRequest.h</code><br/>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/webView:didFailLoadWithError:" title="webView:didFailLoadWithError:"></a>

    <h3 class="subsubtitle method-title">webView:didFailLoadWithError:</h3>


    <div class="method-subsection method-declaration"><code>- (void)webView:(UIWebView *)<em>webView</em>
        didFailLoadWithError:(NSError *)<em>error</em></code></div>


</div>

<div class="section-method">
    <a name="//api/name/webView:shouldStartLoadWithRequest:navigationType:"
       title="webView:shouldStartLoadWithRequest:navigationType:"></a>

    <h3 class="subsubtitle method-title">webView:shouldStartLoadWithRequest:navigationType:</h3>


    <div class="method-subsection method-declaration"><code>- (BOOL)webView:(UIWebView *)<em>webView</em>
        shouldStartLoadWithRequest:(NSURLRequest *)<em>request</em> navigationType:(UIWebViewNavigationType)<em>navigationType</em></code>
    </div>


</div>

<div class="section-method">
    <a name="//api/name/webViewDidFinishLoad:" title="webViewDidFinishLoad:"></a>

    <h3 class="subsubtitle method-title">webViewDidFinishLoad:</h3>


    <div class="method-subsection method-declaration"><code>- (void)webViewDidFinishLoad:(UIWebView
        *)<em>webView</em></code></div>


</div>

</div>


</div>
<div class="main-navigation navigation-bottom">
    <ul>
        <li><a href="../index.html">Index</a></li>
        <li><a href="../hierarchy.html">Hierarchy</a></li>
    </ul>
</div>
<div id="footer">
    <hr/>
    <div class="footer-copyright">
        <p><span class="copyright">&copy; 2012 Schibsted Payment. All rights reserved. (Last updated: 2012-11-13)</span><br/>

            <span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.1 (build 840)</a>.</span>
        </p>

    </div>
</div>
</div>
</article>
<script type="text/javascript">
    function jumpToChange() {
        window.location.hash = this.options[this.selectedIndex].value;
    }

    function toggleTOC() {
        var contents = document.getElementById('contents');
        var tocContainer = document.getElementById('tocContainer');

        if (this.getAttribute('class') == 'open') {
            this.setAttribute('class', '');
            contents.setAttribute('class', '');
            tocContainer.setAttribute('class', '');

            window.name = "hideTOC";
        }
        else {
            this.setAttribute('class', 'open');
            contents.setAttribute('class', 'isShowingTOC');
            tocContainer.setAttribute('class', 'isShowingTOC');

            window.name = "";
        }
        return false;
    }

    function toggleTOCEntryChildren(e) {
        e.stopPropagation();
        var currentClass = this.getAttribute('class');
        if (currentClass == 'children') {
            this.setAttribute('class', 'children open');
        }
        else if (currentClass == 'children open') {
            this.setAttribute('class', 'children');
        }
        return false;
    }

    function tocEntryClick(e) {
        e.stopPropagation();
        return true;
    }

    function init() {
        var selectElement = document.getElementById('jumpTo');
        selectElement.addEventListener('change', jumpToChange, false);

        var tocButton = document.getElementById('table_of_contents');
        tocButton.addEventListener('click', toggleTOC, false);

        var taskTreeItem = document.getElementById('task_treeitem');
        if (taskTreeItem.getElementsByTagName('li').length > 0) {
            taskTreeItem.setAttribute('class', 'children');
            taskTreeItem.firstChild.setAttribute('class', 'disclosure');
        }

        var tocList = document.getElementById('toc');

        var tocEntries = tocList.getElementsByTagName('li');
        for (var i = 0; i < tocEntries.length; i++) {
            tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
        }

        var tocLinks = tocList.getElementsByTagName('a');
        for (var i = 0; i < tocLinks.length; i++) {
            tocLinks[i].addEventListener('click', tocEntryClick, false);
        }

        if (window.name == "hideTOC") {
            toggleTOC.call(tocButton);
        }
    }

    window.onload = init;

    // If showing in Xcode, hide the TOC and Header
    if (navigator.userAgent.match(/xcode/i)) {
        document.getElementById("contents").className = "hideInXcode"
        document.getElementById("tocContainer").className = "hideInXcode"
        document.getElementById("top_header").className = "hideInXcode"
    }

</script>
</body>
</html>